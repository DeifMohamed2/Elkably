<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register</title>
  <link rel="icon" href="images/d.png" type="image/x-icon">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="/assest/bootstrap.min.css">
  <link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.6/css/unicons.css">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/Register.css">
</head>


<style>
  .verificationCode{
  
    width: 130px !important; 
  }

  .verificationBTN {
    background-color: #ffd900;
    border: none;
    color: rgb(0, 0, 0);
    padding: 10px 15px;
    border-radius: 20px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
    transition: all ease 0.3s  ;
  }
  .verificationBTN:hover {
    background-color: #f1f1f1;
  }
  .verificationBTN:disabled
  {
    opacity: 0.4;
    background-color: #f1f1f1;
    cursor: not-allowed;
  }

</style>
<body>

  <%- include("./partials/nav.ejs") %>


    <!-- Modal -->


    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <div class="success-animation ">
              <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none" />
                <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" />
              </svg>
            </div>
          </div>
          <div class="modal-body text-center " style="color: black;">
            <h3>تم ارسال طلبك بنجاح!</h3>
            <h4> هذا هوا الكود الخاص بك يرجي الاحتفاظ به جيداً</h4>
            <span style="font-size: 2rem; "> <b>#</b><b id="student_id"></b> </span>
          </div>
          
          <div class="modal-footer mx-auto">
            <a href="login"><button type="button" class="btn btn-primary" data-bs-dismiss="modal" id="copyCode"> حسنا
              </button></a>
          </div>
          </div>
     
        </div>
      </div>
    </div>



    <section class="contact">

      <div class="container contact__container">

        <button type="button" style="display: none;" id="modelbtn" class="btn btn-primary" data-bs-toggle="modal"
          data-bs-target="#exampleModal">
          Launch demo modal
        </button>

      


        <form action="/Register" method="post" class="contact__form ">
          <% if (typeof errors !=='undefined' ) { %>
            <ul class="errors">
              <% for (const key in errors) { %>
                <li class="erorr">
                  <%= errors[key] %>
                </li>
                <% } %>


            </ul>
            <% } %>

              <div class="row  justify-content-center align-items-center">

                <div class="col-12 text-center ">
                  <input type="text" name="Username" placeholder=" اسم الطالب بالكامل"
                    value="<%= formData.Username || '' %>" required>
                </div>
                

                <div class="col-12 text-center">
                  <input type="number" name="phone" id="phone" placeholder="رقم هاتف الطالب" required>

                  <h5 class="text-warning">ده الرقم الي هتعمل بيه تسجيل دخول</h5>
                  <h5 class="text-warning">لازم الرقم يكون عليه واتساب</h5>
          

                  <!-- <button type="button" class="verificationBTN" id="verificationBTN" onclick="sendVerificationCode()">ارسال كود تأكيد</button>
                   <input type="number" class="verificationCode"  name="verificationCode" id="verificationCode" placeholder="كود التفعيل" required>
           -->
                </div>

                

      
         
                <div class="col-12 text-center">
                  <input type="number" name="parentPhone" id="parentPhone"
                    placeholder=" رقم هاتف ولي الامر " value="<%= formData.parentPhone || '' %>" required>
                </div>
            
                  <div class="col-12 text-center">
          <select name="Grade" id="Grade" class="regSel" value="<%= formData.Grade || '' %>" required>
            <option value=""> اختر </option>
            <option value="ECT">ECT</option>
            <option value="ACT1">ACT1</option>
            <option value="ACT2">ACT2</option>
          </select>
                  </div>

                  <div class="col-12 text-center">
                    <h4 class="text-warning mt-2">اسم السنتر</h4>
                  </div>

                  <div class="col-12 text-center">
                    <select name="centerName" id="centerName" value="<%= formData.centerName || '' %>" required>
                      <option value=""> اختر السنتر </option>
                    </select>
                  </div>

                  <div class="col-12 text-center">
                    <select name="groupTime" id="groupTime" value="<%= formData.groupTime || '' %>" required>
                      <option value=""> Group Time </option>
                    </select>
                  </div>

                  <div class="col-4 text-center">
                  <input type="number" name="balance" id="balance"
                    placeholder="Amount" value="<%= formData.balance || '' %>" required>
                </div>

             
               
                <div class="col-12 text-center">
                  <button type="submit" class="btn btn-primary"> ارسال طلب</button><label><span>

                </div>
              </div>


 
        </form>
      </div>
    </section>

    <%- include("./partials/footer.ejs") %>


      <script src="/assest/bootstrap.min.js"></script>
      <script src="/assest/bootstrap.bundle.min.js"></script>



<script>
// Define centers for each grade
const centersByGrade = {
  ECT: [
    { value: 'GTA1', text: 'GTA1' },
    { value: 'GTA2', text: 'GTA2' }
  ],
  ACT1: [
    { value: 'GTA2', text: 'GTA2' }
  ],
  ACT2: [
    { value: 'GTA1', text: 'GTA1' }
  ]
};

// Group times for each center
const groupTimes = {
  GTA1: [
    { value: 'group1', text: 'السبت - 10  - 12 ' },
    { value: 'group2', text: 'الخميس - 12  - 2 ' }
  ],
  GTA2: [
    { value: 'group1', text: 'الحد - 3  - 5 ' },
    { value: 'group2', text: 'الاتنين - 5  - 7 ' }
  ]
};

// Handle grade change
document.getElementById('Grade').addEventListener('change', function() {
  const selectedGrade = this.value;
  const centerName = document.getElementById('centerName');

  // Clear existing center options
  centerName.innerHTML = '<option value="" selected>اختر السنتر</option>';

  // Add new centers based on the selected grade
  if (centersByGrade[selectedGrade]) {
    centersByGrade[selectedGrade].forEach(center => {
      const option = document.createElement('option');
      option.value = center.value;
      option.textContent = center.text;
      centerName.appendChild(option);
    });
  }

  // Clear the group time options whenever the grade changes
  document.getElementById('groupTime').innerHTML = '<option value="" selected>Group Time</option>';
});

// Handle center name change
document.getElementById('centerName').addEventListener('change', function() {
  const selectedCenter = this.value;
  const groupTime = document.getElementById('groupTime');

  // Clear existing group time options
  groupTime.innerHTML = '<option value="" selected>Group Time</option>';

  // Add new group times based on the selected center
  if (groupTimes[selectedCenter]) {
    groupTimes[selectedCenter].forEach(group => {
      const option = document.createElement('option');
      option.value = group.value;
      option.textContent = group.text;
      groupTime.appendChild(option);
    });
  }
});
</script>



</body>

</html>